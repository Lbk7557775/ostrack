# OSTrack 快速开始指南

## 🚀 一键配置（推荐）

### Windows用户
```cmd
# 双击运行或在命令行执行
setup_windows.bat
```

### Linux/Mac用户
```bash
# 给脚本添加执行权限并运行
chmod +x setup_linux.sh
./setup_linux.sh
```

### 手动配置
```bash
# 1. 创建环境
conda env create -f ostrack_cuda113_env.yaml
conda activate ostrack

# 2. 运行配置脚本
python quick_setup.py --workspace_dir . --data_dir ./data --save_dir ./output
```

## 📁 数据准备

### 必需数据集
1. **LaSOT**: 下载到 `data/lasot/`
2. **GOT-10K**: 下载到 `data/got10k/`
3. **TrackingNet**: 下载到 `data/trackingnet/`
4. **COCO**: 下载到 `data/coco/`

### 数据集下载链接
- LaSOT: http://vision.cs.stonybrook.edu/~lasot/
- GOT-10K: http://got-10k.aitestunion.com/
- TrackingNet: https://tracking-net.org/
- COCO: https://cocodataset.org/

## 🎯 快速测试

### 1. 下载预训练模型
```bash
# 下载MAE预训练权重
mkdir -p pretrained_models
wget https://dl.fbaipublicfiles.com/mae/pretrain/mae_pretrain_vit_base.pth -O pretrained_models/mae_pretrain_vit_base.pth

# 下载OSTrack预训练模型（用于测试）
# 从Google Drive下载到 output/checkpoints/train/ostrack/
```

### 2. 运行测试
```bash
# 在LaSOT上测试
python tracking/test.py ostrack vitb_384_mae_ce_32x4_ep300 --dataset lasot --threads 4 --num_gpus 1

# 在单个序列上测试
python tracking/test.py ostrack vitb_384_mae_ce_32x4_ep300 --dataset lasot --sequence 0 --threads 1 --num_gpus 1
```

## 🏋️ 开始训练

### 单GPU训练
```bash
python tracking/train.py --script ostrack --config vitb_256_mae_ce_32x4_ep300 --save_dir ./output --mode single --use_wandb 0
```

### 多GPU训练
```bash
python tracking/train.py --script ostrack --config vitb_256_mae_ce_32x4_ep300 --save_dir ./output --mode multiple --nproc_per_node 4 --use_wandb 1
```

## 🔧 常见问题

### 1. CUDA内存不足
- 减少batch size（编辑配置文件中的BATCH_SIZE）
- 使用更小的模型（vitb_256而不是vitb_384）

### 2. 路径错误
```bash
# 重新设置路径
python tracking/create_default_local_file.py --workspace_dir . --data_dir ./data --save_dir ./output
```

### 3. 依赖包问题
```bash
# 重新安装环境
conda env remove -n ostrack
conda env create -f ostrack_cuda113_env.yaml
```

## 📊 性能基准

| 模型 | GOT-10K (AO) | LaSOT (AUC) | TrackingNet (AUC) | UAV123 (AUC) |
|------|-------------|-------------|------------------|--------------|
| OSTrack-256 | 71.0 | 69.1 | 83.1 | 68.3 |
| OSTrack-384 | 73.7 | 71.1 | 83.9 | 70.7 |

## 🎨 可视化调试

```bash
# 启动visdom服务器
visdom

# 运行可视化测试
python tracking/test.py ostrack vitb_384_mae_ce_32x4_ep300 --dataset vot22 --threads 1 --num_gpus 1 --debug 1

# 打开浏览器访问 http://localhost:8097
```

## 📝 配置文件说明

- `vitb_256_mae_ce_32x4_ep300.yaml` - OSTrack-256配置
- `vitb_384_mae_ce_32x4_ep300.yaml` - OSTrack-384配置
- `vitb_256_mae_ce_32x4_got10k_ep100.yaml` - GOT-10K训练配置

## 🆘 获取帮助

1. 查看详细文档: `OSTrack_使用说明书.md`
2. 检查GitHub Issues
3. 确认环境配置是否正确

---

**开始你的OSTrack之旅吧！** 🎉
